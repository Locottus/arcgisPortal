<!--
  https://developers.arcgis.com/javascript/latest/sample-code/intro-layers/index.html
-->

<html>
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="initial-scale=1,maximum-scale=1,user-scalable=no"
    />

    <!--
//https://developers.arcgis.com/javascript/latest/sample-code/request/index.html
      ArcGIS API for JavaScript, https://js.arcgis.com
  For more information about the widgets-track-basic sample, read the original sample description at developers.arcgis.com.
  https://developers.arcgis.com/javascript/latest/sample-code/widgets-track-basic/index.html
  -->

    <title>Incyt portal demo</title>

    <link rel="stylesheet" type="text/css" href="style.css" />
    <link
      rel="stylesheet"
      href="https://js.arcgis.com/4.14/esri/themes/light/main.css"
    />
    <!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" >
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"> -->
    <link rel="stylesheet" href="bootstrap.min.css" />
    <link rel="stylesheet" href="font-awesome.min.css" />

    <script src="https://js.arcgis.com/4.14/"></script>
    <script src="map.js"></script>
    <!-- <script src="herlich.js"></script> -->
    <script>

      function cargaDepto(){
         var select = document.getElementById("selectDepartamento"); 
         //console.log(departamentos);
         for (var i = 0; i < departamentos.length; i++ ){
            var el = document.createElement("option");
            el.textContent = departamentos[i].departamen_1;
            el.value = departamentos[i].departamen_1;
            select.appendChild(el);
         }
      }

      function clearSelect(select) {
        var length = select.options.length;
        for (i = length -1 ; i >=0 ; i--) {
          select.options[i] = null;
        }
      }

      function cargaMuni(){
        var select = document.getElementById("selectMunicipio");
        clearSelect(select);
        // console.log("cargaMuni()");
        var d = document.getElementById("selectDepartamento");
        var dval = d.options[d.selectedIndex].value;
        // console.log(dval);
        for(var i = 0; i < municipios.length; i++){
          if (municipios[i].departamen_1 === dval){
            
            var el = document.createElement("option");
            el.textContent = municipios[i].municipi_1;
            el.value = municipios[i].id;
            select.appendChild(el);            
          }
        }
      }

      function cargaNecesidad(){
        var select = document.getElementById("selectNecesidad"); 
         //console.log(departamentos);
         for (var i = 0; i < necesidad.length; i++ ){
            var el = document.createElement("option");
            el.textContent = necesidad[i].descripcion;
            el.value = necesidad[i].id;
            select.appendChild(el);
         }
      }

      function unhide() {
        document.getElementById("infoForm").style.display = "block";
      }

      function hide() {
        document.getElementById("infoForm").style.display = "none";
      }

      window.onload = function() {
        cargaNecesidad();
        cargaDepto();
    }

    </script>
  </head>

  <body>
    <div id="info">
      <div>
        <h1 class="text-center">Menu</h1>
      </div>
      <button id="Point" class="btn btn-info text-center" onclick="unhide()">
        Reportar Problema
      </button>
      <!-- <button id="Point" class ="btn btn-info">Cubo 2</button>
      <button id="Point" class ="btn btn-info">Cubo 3</button> -->
    </div>

    <div id="infoForm" >
      <h2>Reporte de Problema</h2>
      <!-- <button id="Point" class ="btn btn-info text-center" onclick="hide()">Reportar Problema</button> -->
      <!-- <form  class="form-container"> -->
        <!-- <label for="email"><b>Email</b></label> -->
        <input
          type="text"
          placeholder="Ingrese Email"
          name="email"
          
        /><br /><br/>

        <label for="lnecesidad"><b>Necesidad</b></label>
        <select id="selectNecesidad">
          <option></option>
        </select></br>

        <label for="ldepartamento"><b>Departamento</b></label>
        <select id="selectDepartamento" onchange="cargaMuni()">
          <option></option>
        </select></br>

        <label for="lmunicipio"><b>Municipio</b></label>
        <select id="selectMunicipio"  >
          <option></option>
        </select></br>

        <textarea
          type="text"
          placeholder="Ingrese Problema"
          name="txt"
          rows="3"
          cols="40"
        ></textarea
        ><br /><br/>

        <button type="submit" class="btn btn-info text-center">Reportar</button>&nbsp;
        <button type="submit" class="btn text-center cancel" onclick="hide()">
          Cancelar
        </button>
      <!-- </form> -->
    </div>

    <div id="infoRegion">
      <div>
        <h3 class="text-center">Tabla</h3>
      </div>


      
      <button id="Point" class="btn btn-info text-center" onclick="unhide()">
        Cerrar
      </button>
      <!-- <button id="Point" class ="btn btn-info">Cubo 2</button>
      <button id="Point" class ="btn btn-info">Cubo 3</button> -->
    </div>


    <div id="viewDiv"></div>
  </body>
</html>
